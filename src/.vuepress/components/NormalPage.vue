<script setup>
import Page from "vuepress-theme-hope/components/NormalPage.js";
//import ClerkTool from "./ClerkTool.vue";
import BuildVersion from './BuildVersion.vue';
import html2canvas from 'html2canvas';

async function savePicture() {
    await html2canvas(document.querySelector("#savepic"), {
        windowWidth: 600,
        scale: 2,
        useCORS: true,
    }).then(
        async function (canvas) {
            canvas = canvas.toDataURL("image/png", 1);
            document.getElementById("img").setAttribute("src", canvas);
            document.getElementById("img").setAttribute("class", "savepic-img");
        }
    );
}
</script>

<template>
    <Page id="savepic">
        <template #contentBefore>
            <div class="theme-hope-content">
                <div class="qq-main" data-html2canvas-ignore>
                    <div class="qq-logo">
                        <img src="https://statics.netfox.wiki/20240615/QQ.2krrs9cvwa.webp" no-view>
                    </div>
                    <div>
                        <b>åŠ å…¥é¡¹ç›®å¼€å‘ç¾¤ç»„ï¼Œäº†è§£æ›´å¤šå†…å®¹ï¼š</b>
                        <a
                            href="https://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=O_uVziCfUhzQseq9rCrjxwayDJDffOo9&authKey=ervLfyvDdYRlPRA%2FLK7NStIJgj23OlOZ1SyGa3aOd1XMUmUEsbW7iRi7mfrELOLX&noverify=0&group_code=421836260">ç‚¹å‡»åŠ å…¥</a>
                    </div>
                </div>
                <div class="savepic-main" data-html2canvas-ignore>
                    <div class="savepic-h">ç”Ÿæˆæ­¤é¡µæˆªå›¾</div>
                    <button @click="savePicture()" class="savepic-btn">
                        ç”Ÿæˆå›¾ç‰‡
                    </button>
                    <div class="b-notice-b">
                        1. ç”±äºç”Ÿæˆçš„å›¾ç‰‡ä¸º Base64 å­—ç¬¦ä¸²ï¼Œéšç€é¡µé¢å†…å®¹çš„å¢åŠ ï¼Œç”Ÿæˆå›¾ç‰‡æ—¶å¯èƒ½ä¼šå‡ºç°é¡µé¢å¡é¡¿ç­‰é—®é¢˜
                        <br>
                        2. æˆªå›¾åçš„å›¾ç‰‡ä¸­ï¼Œæœ‰äº›ç»„ä»¶å¯èƒ½ä¸ä¼šæ­£å¸¸æ˜¾ç¤º
                        <br>
                        3. éšç€é¡µé¢å†…å®¹å¢åŠ ï¼Œå›¾ç‰‡ç”Ÿæˆæ—¶é—´ä¹Ÿä¼šå¢åŠ 
                        <br>
                        ç”µè„‘ç«¯ï¼šå³é”®å›¾ç‰‡ä¿å­˜
                        <br>
                        ç§»åŠ¨ç«¯ï¼šé•¿æŒ‰å›¾ç‰‡ä¿å­˜
                    </div>
                    <img id="img" src="" class="savepic-img-hid" no-view />
                </div>
                <!--<ClerkTool />-->
                <hr>
            </div>
        </template>
        <template #bottom>
            <div class="theme-hope-content">
                <hr>
                <div class="b-notice">
                    <div class="b-notice-h">å…è´£å£°æ˜</div>
                    <div class="b-notice-b">
                        MW & MWT æ–‡æ¡£ ä¸å¯¹æœ¬ç«™ä¿¡æ¯çš„å®Œæ•´æ€§ã€å¯é æ€§å’Œå‡†ç¡®æ€§æä¾›ä»»ä½•ä¿è¯
                        <br>
                        <br>æœ¬ç½‘ç«™å†…å®¹å‡ä¸ºç½‘ç»œæ”¶é›†ä¸è‡ªåˆ¶ï¼Œè½¬è½½å·²æ ‡æ˜å‡ºå¤„ï¼Œå¦‚éœ€åå•†è¯·å‘é€é‚®ç®±
                        <br>
                        <br>æœ¬ç½‘ç«™å›¾ç‰‡å†…å®¹å‡å·²å‹ç¼©ï¼Œå¦‚éœ€åŸå›¾è¯·è¯¯ä¸‹è½½æœ¬ç«™å›¾ç‰‡
                        <br>
                        <br>æœ¬ç½‘ç«™ä¸ Artstorm æˆ– Cube Software æˆ– Gaijin æˆ–å…¶ä»»ä½•å­å…¬å¸æˆ–é™„å±å…¬å¸æ²¡æœ‰é™„å±ã€å…³è”ã€æˆæƒã€è®¤å¯æˆ–ä»¥ä»»ä½•æ–¹å¼å…³è”
                        <br>
                        <br>Modern Warships æˆ– MWT: Tank Battles çš„åç§°ä»¥åŠä»»ä½•ç›¸å…³åç§°ã€æ ‡å¿—å’Œå›¾åƒå‡ä¸ºå…¶å„è‡ªæ‰€æœ‰è€…çš„æ³¨å†Œå•†æ ‡
                    </div>
                </div>
                <div class="cus-footer">
                    <BuildVersion />
                    <a class="cus-footer-item" target="_blank" href="https://netfox.wiki">
                        <img data-mode="darkmode-only" height="100%" width="150"
                            src="https://statics.netfox.wiki/20240504/retouch_2024050410472811.7sn0rcgvht.webp">
                        <img data-mode="lightmode-only" height="100%" width="150"
                            src="https://statics.netfox.wiki/20240504/retouch_2024050410474193.54xkgznu5u.webp">
                    </a>
                    <div class="cus-footer-c">
                        ä»¥æ–‡æ¡£çš„å½¢å¼ï¼Œè®°å½• <span style="color:#2196F3">ç°ä»£æˆ˜èˆ°</span> ä¸ <span style="color:#fb8b05">ç°ä»£æˆ˜äº‰ï¼šå¦å…‹æ¿€æ–—</span>
                        å†…å®¹çš„éª¨ç°çº§æ¸¸æˆç½‘ç«™ ğŸ‚
                        <br>
                        Copyright Â© 2023-2024 <a href="https://mw.netfox.wiki">MW &
                            MWT æ–‡æ¡£</a> by <span style="color:#fb8b05">NetFox.Wiki</span> All rights reserved.
                    </div>
                </div>
            </div>
        </template>
    </Page>
</template>

<style>
.savepic-h {
    margin-top: -6px;
    font-size: 30px;
    font-weight: bold;
}

.savepic-main {
    border: 2px var(--theme-color) solid;
    border-radius: 5px;
    padding: 5px;
    margin: 5px 0;
}

.savepic-btn {
    font-size: 25px;
    font-weight: bold;
    text-decoration: none !important;
    color: var(--theme-color);
    background-color: var(--theme-color-mask);
    border: none;
    padding: 3px 8px;
    border-radius: 5px;
    text-align: center;
}

.savepic-btn:hover {
    background-color: var(--theme-color);
    color: #fff;
}

.savepic-img {
    -webkit-user-drag: none;
    border-radius: 5px;
    width: 200px;
    border: 2px var(--theme-color-dark) solid;
}

.savepic-img-hid {
    display: none;
}

.cus-footer-item {
    margin: 0 2.5px;
}

.cus-footer-c {
    font-size: 13.5px;
}

.cus-footer {
    border-radius: 5px;
    border: 2px var(--theme-color-dark) solid;
    padding: 5px;
    margin: 10px 0;
    text-align: center;
}

.b-notice {
    border-radius: 5px;
    border: 2px var(--theme-color-dark) solid;
    padding: 4px;
    margin: 10px 0;
}

.b-notice-h {
    background-color: var(--theme-color-mask);
    color: var(--theme-color);
    padding: 3px;
    font-weight: bold;
    font-size: 20px;
    border-radius: 5px;
    text-align: center;
    margin-bottom: 3px;
}

.b-notice-b {
    font-weight: bold;
    font-size: 15px;
}

.qq-main {
    display: flex;
    align-items: center;
    font-size: 19px;
    border-radius: 5px;
    border: 2px var(--theme-color-dark) solid;
    padding: 3px;
}

.qq-logo {
    height: 100%;
    width: 20px;
    background-color: var(--theme-color-light);
    padding: 4px 3px 1px 3px;
    border-radius: 5px;
    margin-right: 5px;
}
</style>